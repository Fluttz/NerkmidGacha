<p><!-- #######  HEY, I AM THE SOURCE EDITOR! #########--></p>
<style>
table, th, td {
  border-collapse: collapse;
}

table.center {
  margin-left: auto; 
  margin-right: auto;
}
</style>
<p style="color: #5e9ca0; text-align: center;"><span style="color: #000000;">Put a Nerkmid in the machine, and it will dispense rare and exotic foods for your pet. Press the buttons and push the levers for a chance to get a rarer treat!</span></p>
<p style="color: #5e9ca0; text-align: center;"><span style="color: #000000;"><img src="https://images.neopets.com/images/noshomatic.gif" id="nosh" alt="" /></span></p>
<p style="color: #5e9ca0; text-align: center;"><strong><span style="color: #000000;">Your Nerkmids</span></strong></p>
<p style="text-align: center;"><span style="color: #000000;"> <img src="https://images.neopets.com/items/nerkmid_lesser.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_average.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_good.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_super.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_ultra.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_ultimate.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_aluminum.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerkmid_copper.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk1.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk2.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk3.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk4.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk_plat_3.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk_plat_2.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk_plat_1.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk_plat_6.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk5.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk6.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk_plat_5.gif" alt="" border="1" /> <img src="https://images.neopets.com/items/nerk_plat_4.gif" alt="" border="1" /></span></p>
<p style="text-align: center;"><strong><span style="color: #000000;">Which Nerkmid do you use?&nbsp;</span></strong><select id="nerkmid-id">
<option selected="selected">Select One</option>
<option value="1">Lesser Nerkmid</option>
<option value="2">Average Nerkmid</option>
<option value="3">Good Nerkmid</option>
<option value="4">Super Nerkmid</option>
<option value="5">Ultra Nerkmid</option>
<option value="6">Ultimate Nerkmid</option>
<option value="7">Aluminium Nerkmid</option>
<option value="8">Copper Nerkmid</option>
<option value="9">Basic Golden Nerkmid</option>
<option value="10">Normal Golden Nerkmid</option>
<option value="11">Magical Golden Nerkmid</option>
<option value="12">Ultra Golden Nerkmid</option>
<option value="13">Basic Platinum Nerkmid</option>
<option value="14">Normal Platinum Nerkmid</option>
<option value="15">Ultra Platinum Nerkmid</option>
<option value="16">Magical Platinum Nerkmid</option>
<option value="17">Golden Nerkmid X</option>
<option value="18">Golden Nerkmid XX</option>
<option value="19">Platinum Nerkmid X</option>
<option value="20">Platinum Nerkmid XX</option>
</select></p>
<p style="text-align: center;"><strong><span style="color: #000000;">Which large button do you press?&nbsp;</span></strong><select id="button-id">
<option selected="selected">Select One</option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
</select></p>
<p style="text-align: center;"><strong><span style="color: #000000;">Which small button do you press?&nbsp;</span></strong><select id="useless1-id">
<option selected="selected">Select One</option>
<option value="1">Left Green</option>
<option value="2">Left Red</option>
<option value="3">Left Pink</option>
<option value="4">Right Red</option>
<option value="5">Right Blue</option>
<option value="6">Right Purple</option>
</select></p>
<p style="text-align: center;"><strong><span style="color: #000000;">How many times do you press it?&nbsp;</span></strong><select id="useless2-id">
<option selected="selected">Select One</option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
</select></p>
<p style="text-align: center;"><strong><span style="color: #000000;">How many levers do you pull?&nbsp;</span></strong><select id="lever-id">
<option selected="selected">Select One</option>
<option value="0">0</option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
</select></p>
<p style="text-align: center;"><button type="button" id="button1" onclick="gachaOne()">GO!!!</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" onclick="gachaTen()">GO!!! x10</button></p>
<p style="text-align: center;" id="rewards"></p>
<script>
const nerks = ["Aluminium Nerkmid","101","41863", "Average Nerkmid","100","10889", "Basic Golden Nerkmid","101","7949", "Basic Platinum Nerkmid","105","18174", "Copper Nerkmid","101","41864", "Golden Nerkmid X","103","19401", "Golden Nerkmid XX","104","19402", "Good Nerkmid","100","10890", "Lesser Nerkmid","100","10888", "Magical Golden Nerkmid","101","19400", "Normal Golden Nerkmid","101","2626", "Normal Platinum Nerkmid","105","19405", "Platinum Nerkmid XX","105","18175", "Super Nerkmid","100","10891", "Ultimate Nerkmid","100","10892", "Ultra Golden Nerkmid","101","19378", "Ultra Nerkmid","100","1912", "Ultra Platinum Nerkmid","105","18173"];
function randInt(minVal,maxVal){
  var interval = maxVal-minVal+1;
  var result = Math.floor(Math.floor(Math.random() * interval))+minVal;
  return result;
}

function genNP(prize){
    
    var nps = randInt(1,100);
    if (randInt(1,50)<prize){
      nps = nps*2;
    }
    if (randInt(1,100)<prize){
      nps = nps*2;
    }
    if (randInt(1,150)<prize){
      nps = nps*2;
    }
    if (randInt(1,200)<prize){
      nps = nps*2;
    }
    if (prize>50){
      nps = nps + randInt(1,100);
    }
    if (prize>75){
      nps = nps + randInt(1,400);
    }
    if (prize>90){
      nps = nps + randInt(1,900);
    }
    if ((prize>60)&&(randInt(1,100)<=5)){
      nps = nps + 5000;
    }
    if ((prize>75)&&(randInt(1,100)<=4)){
      nps = nps + 10000;
    }
    if ((prize>80)&&(randInt(1,100)<=3)){
      nps = nps + 15000;
    }
    if ((prize>85)&&(randInt(1,100)<=2)){
      nps = nps + 20000;
    }
    if ((prize>90)&&(randInt(1,100)==1)){
      nps = nps + 25000;
    }
    if ((prize>110)&&(randInt(1,100)==1)){
      nps = nps + 25000;
    }
    if ((prize>130)&&(randInt(1,100)==1)){
      nps = nps + 25000;
    }
    return nps;
}

function genItem(prize){
  if (prize<1){
    prize = 1;
  } else if (prize>100){
    prize = 100; 
  }
  var roll = randInt(1,20);
  if (roll<15){
    return "<img src=\"https:\/\/images.neopets.com\/items\/grf_aisha_splurgles.gif\"><br><b>Gross food<\/b>";
	//rarity between prize-25 and 100
  } else if (roll<18){
	var itemnum = randInt(0,17);
	var itemname = nerks[itemnum*3];
	var itemurl = nerks[itemnum*3+2];
	var result = "<img src=\"https:\/\/items.jellyneo.net\/assets\/imgs\/items\/";
	result = result.concat(itemurl,".gif\"><br><b>",itemname,"<\/b>");
	return result;
  } else if (roll<20){
	return "<img src=\"https:\/\/images.neopets.com\/items\/bottlefaerie_earth.gif\"><br><b>Faerie<\/b>";
  } else {
	return "<img src=\"https:\/\/images.neopets.com\/items\/xmaspaintbrush.gif\"><br><b>Paint Brush<\/b>";
  }
}

function genPrize(prize,butNum,levNum){
    prize = prize * 9;
    prize = prize + randInt(-9,10);
    prize = prize + levNum*2;
    prize = (prize*butNum)/2;
    if (randInt(1,2)==1){
      prize = prize+5;
    }
    if (randInt(1,3)==1){
      prize = prize-8;
    }
    if (randInt(1,4)==1){
      prize = prize+12;
    }
  var npReward = genNP(prize);
  var itemReward = genItem(prize);
  var result = "";
  return result.concat("<b>",npReward," NP<\/b><br>",itemReward); 
}

function gachaOne(){
  var sel1 = document.getElementById("nerkmid-id").selectedIndex;
  var sel2 = document.getElementById("button-id").selectedIndex;
  var sel3 = document.getElementById("lever-id").selectedIndex;
  var sel4 = document.getElementById("useless1-id").selectedIndex;
  var sel5 = document.getElementById("useless2-id").selectedIndex;
  if ((sel1>0)&&(sel2>0)&&(sel3>0)&&(sel4>0)&&(sel5>0)){
    document.getElementById("nosh").src = "https://images.neopets.com/images/noshomatic2.gif";
    document.getElementById("rewards").innerHTML = genPrize(sel1,sel2,sel3);
  }
  
}

function gachaTen(){
  var sel1 = document.getElementById("nerkmid-id").selectedIndex;
  var sel2 = document.getElementById("button-id").selectedIndex;
  var sel3 = document.getElementById("lever-id").selectedIndex;
  var sel4 = document.getElementById("useless1-id").selectedIndex;
  var sel5 = document.getElementById("useless2-id").selectedIndex;
  var output = "<table class=\"center\" style=\"text-align: center;\"><tr>";
  if ((sel1>0)&&(sel2>0)&&(sel3>0)&&(sel4>0)&&(sel5>0)){
    document.getElementById("nosh").src = "https://images.neopets.com/images/noshomatic2.gif";
	for (let i = 0; i < 10; i++) {
	output = output.concat("<td>",genPrize(sel1,sel2,sel3),"<\/td>");
	}
	output = output.concat("<\/tr><\/table>");
	
	document.getElementById("rewards").innerHTML = output;
  }
  
}

</script>
